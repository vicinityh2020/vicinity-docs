

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Get started &mdash; VICINITY Get Started 0.6.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="VICINITY Vocabulary" href="vocabulary.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> VICINITY Get Started
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="architecture.html">VICINITY Overall architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="neighbourhood.html">VICINITY Neighbourhood Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="vocabulary.html">VICINITY Vocabulary</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Get started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-the-vicinity-gateway-api">Install the VICINITY Gateway API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-the-vicinity-example-adapter">Install the VICINITY Example Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-the-vicinity-agent-service">Install the VICINITY Agent Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#register-your-things">Register your things</a></li>
<li class="toctree-l2"><a class="reference internal" href="#read-data-from-your-example-thing">Read data from your example thing</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">VICINITY Get Started</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Get started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/getstarted.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="get-started">
<h1>Get started<a class="headerlink" href="#get-started" title="Permalink to this headline">¶</a></h1>
<p>This “simple:)” get started guide provides step by step approach to integrate IoT infrastructure in VICINITY.</p>
<div class="section" id="install-the-vicinity-gateway-api">
<h2>Install the VICINITY Gateway API<a class="headerlink" href="#install-the-vicinity-gateway-api" title="Permalink to this headline">¶</a></h2>
<p>We will start with simple VICINITY Gateway API installation.</p>
<ol class="arabic simple">
<li>Clone the github repository</li>
</ol>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">the</span><span class="o">/</span><span class="n">directory</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">vicinityh2020</span><span class="o">/</span><span class="n">vicinity</span><span class="o">-</span><span class="n">gateway</span><span class="o">-</span><span class="n">api</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Compile the VICINITY Gateway API using maven</li>
</ol>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">vicinity</span><span class="o">-</span><span class="n">gateway</span><span class="o">-</span><span class="n">api</span>
<span class="n">mvn</span> <span class="n">clean</span> <span class="nb">compile</span> <span class="n">assembly</span><span class="p">:</span><span class="n">single</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>Create dedicated system user for VICINITY Gateway API</li>
</ol>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adduser</span> <span class="o">--</span><span class="n">system</span> <span class="o">--</span><span class="n">group</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">create</span><span class="o">-</span><span class="n">home</span> <span class="o">--</span><span class="n">shell</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="n">ogwapi</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>Put it all in the right place</li>
</ol>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span>
<span class="n">mkdir</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span><span class="o">/</span><span class="n">log</span>
<span class="n">mkdir</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span><span class="o">/</span><span class="n">config</span>
<span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="o">./</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span>
<span class="n">cp</span> <span class="n">target</span><span class="o">/</span><span class="n">ogwapi</span><span class="o">-</span><span class="n">jar</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">dependencies</span><span class="o">.</span><span class="n">jar</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span><span class="o">/</span><span class="n">gateway</span><span class="o">.</span><span class="n">jar</span>
<span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="n">ogwapi</span><span class="p">:</span><span class="n">ogwapi</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span>
<span class="n">chmod</span> <span class="n">u</span><span class="o">+</span><span class="n">x</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span><span class="o">/</span><span class="n">gateway</span><span class="o">.</span><span class="n">jar</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>Running VICINITY Gateway API.</li>
</ol>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ogwapi</span>
<span class="n">su</span> <span class="o">-</span> <span class="n">ogwapi</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;nohup java -jar gateway.jar &amp;&quot;</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="6">
<li>Checking the running API</li>
</ol>
<blockquote>
<div><p>In nohup.out you should see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span><span class="p">:</span> <span class="n">HTTP</span> <span class="n">Basic</span> <span class="n">challenge</span> <span class="n">authentication</span> <span class="n">scheme</span> <span class="n">configured</span><span class="o">.</span>
<span class="n">Sep</span> <span class="mi">08</span><span class="p">,</span> <span class="mi">2018</span> <span class="mi">2</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">45</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="n">restlet</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connector</span><span class="o">.</span><span class="n">NetServerHelper</span> <span class="n">start</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">the</span> <span class="n">internal</span> <span class="p">[</span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span><span class="p">]</span> <span class="n">server</span> <span class="n">on</span> <span class="n">port</span> <span class="mi">8181</span>
<span class="n">Sep</span> <span class="mi">08</span><span class="p">,</span> <span class="mi">2018</span> <span class="mi">2</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">45</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="n">restlet</span><span class="o">.</span><span class="n">Application</span> <span class="n">start</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">eu</span><span class="o">.</span><span class="n">bavenir</span><span class="o">.</span><span class="n">ogwapi</span><span class="o">.</span><span class="n">restapi</span><span class="o">.</span><span class="n">Api</span> <span class="n">application</span>
<span class="n">Sep</span> <span class="mi">08</span><span class="p">,</span> <span class="mi">2018</span> <span class="mi">2</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">45</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="n">restlet</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">ApplicationHelper</span> <span class="n">start</span>
<span class="n">FINE</span><span class="p">:</span> <span class="n">By</span> <span class="n">default</span><span class="p">,</span> <span class="n">an</span> <span class="n">application</span> <span class="n">should</span> <span class="n">be</span> <span class="n">attached</span> <span class="n">to</span> <span class="n">a</span> <span class="n">parent</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">order</span> <span class="n">to</span> <span class="n">let</span> <span class="n">application</span><span class="s1">&#39;s outbound root handle calls properly.</span>
<span class="n">Sep</span> <span class="mi">08</span><span class="p">,</span> <span class="mi">2018</span> <span class="mi">2</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">45</span> <span class="n">PM</span> <span class="n">eu</span><span class="o">.</span><span class="n">bavenir</span><span class="o">.</span><span class="n">ogwapi</span><span class="o">.</span><span class="n">restapi</span><span class="o">.</span><span class="n">RestletThread</span> <span class="n">run</span>
<span class="n">FINE</span><span class="p">:</span> <span class="n">HTTP</span> <span class="n">server</span> <span class="n">component</span> <span class="n">started</span><span class="o">.</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="install-the-vicinity-example-adapter">
<h2>Install the VICINITY Example Adapter<a class="headerlink" href="#install-the-vicinity-example-adapter" title="Permalink to this headline">¶</a></h2>
<p>We provide very simple Adapter example as a playground for first run and testing. The Adapter example is part of the VICINITY Agent installation.</p>
<p>Download prepared Adapter example from VICINITY Agent GitHub. In releases tab, find last release and download attached file <strong>adapter-build-x.y.z.zip</strong>, where <strong>x.y.z</strong> is the version of actual release. Unzip it.</p>
<p>Example Adapter exposes two <strong>things</strong>: <em>example-thing-1</em> and <em>example-thing-2</em>.
You can find their thing descriptions in file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adapter</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">/</span><span class="n">objects</span><span class="o">/</span><span class="n">example</span><span class="o">-</span><span class="n">objects</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="install-the-vicinity-agent-service">
<h2>Install the VICINITY Agent Service<a class="headerlink" href="#install-the-vicinity-agent-service" title="Permalink to this headline">¶</a></h2>
<p>We provide very Agent Service build preconfigured to work with example Adapter.
Later, you can reconfigure of Agent Service to work with any other adapters just by changing the <a class="reference external" href="https://github.com/vicinityh2020/vicinity-agent/blob/master/docs/AGENT.md">Agent configuration file</a></p>
<dl class="docutils">
<dt>1.) Download prepared Agent Service from VICINITY Agent GitHub</dt>
<dd>In releases tab, find last release and download attached file <strong>agent-build-x.y.z.zip</strong>, where <strong>x.y.z</strong> is the version of actual release. Unzip it.</dd>
<dt>2.) Register access point of VICINITY Neighbourhood Manager</dt>
<dd>Agent needs to be authenticated to perform any registry operations in VICINITY Peer to Peer network. You can simple get credentials from VICINITY Neighbourhood Manager <a class="reference external" href="https://github.com/vicinityh2020/vicinity-neighbourhood-manager/wiki/Access-points">Access point tab</a></dd>
</dl>
<p>3.) Update Agent Service credentials in configuration file</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">agent</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">agents</span><span class="o">/</span><span class="n">example</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>Fill in correct values in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;credentials&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;agent-id&quot;</span><span class="p">:</span> <span class="s2">&quot;agent id goes here&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;agent password goes here&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Everything is now prepared for the first run.</p>
</div></blockquote>
</div>
<div class="section" id="register-your-things">
<h2>Register your things<a class="headerlink" href="#register-your-things" title="Permalink to this headline">¶</a></h2>
<p>In the first run of complete VICINITY Node instalation, the things exposed by
example Adapter will be registered in VICINITY and they will obtain persistent
identifiers, under which they will be know to any other thing in VICINITY. The process
will go as follows:</p>
<ul class="simple">
<li>Agent Service will run the startup sequence, which includes discovery of objects exposed by adapters attached to Agent Service.</li>
<li>New things will be registered into VICINITY, existing will be updated, missing deleted.</li>
<li>Agent Service ends with actual configuration on VICINITY Node, all things are discovered,</li>
</ul>
<p>online and available via Neighbourhood Manager.</p>
<p>Lets do this.</p>
<p>1.) Run VICINITY Gateway API** (see above)</p>
<p>2.) Run example Adapter**</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">adapter</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span>
<span class="o">./</span><span class="n">adapter</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Your Adapter is now running. In console, you should see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Oct</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">2018</span> <span class="mi">2</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">36</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="n">restlet</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connector</span><span class="o">.</span><span class="n">NetServerHelper</span> <span class="n">start</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">the</span> <span class="n">internal</span> <span class="p">[</span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span><span class="p">]</span> <span class="n">server</span> <span class="n">on</span> <span class="n">port</span> <span class="mi">9998</span>
<span class="n">Oct</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">2018</span> <span class="mi">2</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">36</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="n">restlet</span><span class="o">.</span><span class="n">Application</span> <span class="n">start</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">sk</span><span class="o">.</span><span class="n">intersoft</span><span class="o">.</span><span class="n">vicinity</span><span class="o">.</span><span class="n">adapter</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">TestingAdapterApplication</span> <span class="n">application</span>
<span class="n">starting</span>
</pre></div>
</div>
</div></blockquote>
<p>3.) Run Agent Service**</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">agent</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span>
<span class="o">./</span><span class="n">agent</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Your Agent service is now running. In console, you should see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">command</span><span class="p">:</span>
<span class="n">pid</span><span class="p">:</span>
<span class="n">starting</span> <span class="n">agent</span>
<span class="n">agent</span> <span class="n">started</span>
</pre></div>
</div>
<p>Agent Service logs its whole process into file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">agent</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">/</span><span class="n">logs</span><span class="o">/</span><span class="n">agent</span><span class="o">-</span><span class="n">yyyy</span><span class="o">-</span><span class="n">mm</span><span class="o">-</span><span class="n">dd</span><span class="o">.</span><span class="n">log</span>
</pre></div>
</div>
<p>In few seconds, the startup sequence and discovery process should be completed.
You can check your actual Agent Service configuration at endpoint</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9997</span><span class="o">/</span><span class="n">agent</span><span class="o">/</span><span class="n">configuration</span>
</pre></div>
</div>
<p>You can check it in your browser. You should see similar content</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="p">{</span>
    <span class="s2">&quot;adapters&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="s2">&quot;adapter-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter&quot;</span><span class="p">,</span>
      <span class="s2">&quot;things&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;adapter-infra-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter---!---example-thing-1&quot;</span><span class="p">,</span>
          <span class="s2">&quot;infra-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-thing-1&quot;</span><span class="p">,</span>
          <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;R1az6N72N7KfEvGYKVLp5f7PiS3Bv3prIfSkuyb0k+Y=&quot;</span><span class="p">,</span>
          <span class="s2">&quot;agent-id&quot;</span><span class="p">:</span> <span class="s2">&quot;f7f63ef6-fd8a-44f6-8a4a-c15f8376edaa&quot;</span><span class="p">,</span>
          <span class="s2">&quot;adapter-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter&quot;</span><span class="p">,</span>
          <span class="s2">&quot;oid&quot;</span><span class="p">:</span> <span class="s2">&quot;f9d16d9e-02ec-40bc-ad38-4b814d62ea33&quot;</span><span class="p">,</span>
          <span class="s2">&quot;adapter-oid&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter---!---f9d16d9e-02ec-40bc-ad38-4b814d62ea33&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s2">&quot;adapter-infra-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter---!---example-thing-2&quot;</span><span class="p">,</span>
          <span class="s2">&quot;infra-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-thing-2&quot;</span><span class="p">,</span>
          <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;anea2CW6UAPikNfCYp+xZLsERIF0Mxys4hvZvRy9qNk=&quot;</span><span class="p">,</span>
          <span class="s2">&quot;agent-id&quot;</span><span class="p">:</span> <span class="s2">&quot;f7f63ef6-fd8a-44f6-8a4a-c15f8376edaa&quot;</span><span class="p">,</span>
          <span class="s2">&quot;adapter-id&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter&quot;</span><span class="p">,</span>
          <span class="s2">&quot;oid&quot;</span><span class="p">:</span> <span class="s2">&quot;10c67501-9536-4b58-937a-804df9bdcde6&quot;</span><span class="p">,</span>
          <span class="s2">&quot;adapter-oid&quot;</span><span class="p">:</span> <span class="s2">&quot;example-adapter---!---10c67501-9536-4b58-937a-804df9bdcde6&quot;</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">&quot;subscribe-channels&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;open-channels&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}],</span>
<span class="o">...</span>
</pre></div>
</div>
<p>If you see configuration, discovery process was successfull and your example
things were registered. Each thing obtained unique VICINITY <strong>oid</strong>. This is
unique persistent identifier of your thing. Any other things in VICINITY can
interact with other things using their VICINITY <strong>oid</strong>.</p>
<p>Following the configuration above, our example things are mapped as follows:</p>
<p><strong>example-thing-1</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">infrastructure</span><span class="o">-</span><span class="nb">id</span><span class="p">:</span> <span class="n">example</span><span class="o">-</span><span class="n">thing</span><span class="o">-</span><span class="mi">1</span>
<span class="n">oid</span><span class="p">:</span> <span class="n">f9d16d9e</span><span class="o">-</span><span class="mi">02</span><span class="n">ec</span><span class="o">-</span><span class="mi">40</span><span class="n">bc</span><span class="o">-</span><span class="n">ad38</span><span class="o">-</span><span class="mi">4</span><span class="n">b814d62ea33</span>
</pre></div>
</div>
<p><strong>example-thing-2</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">infrastructure</span><span class="o">-</span><span class="nb">id</span><span class="p">:</span> <span class="n">example</span><span class="o">-</span><span class="n">thing</span><span class="o">-</span><span class="mi">2</span>
<span class="n">oid</span><span class="p">:</span> <span class="mi">10</span><span class="n">c67501</span><span class="o">-</span><span class="mi">9536</span><span class="o">-</span><span class="mi">4</span><span class="n">b58</span><span class="o">-</span><span class="mi">937</span><span class="n">a</span><span class="o">-</span><span class="mi">804</span><span class="n">df9bdcde6</span>
</pre></div>
</div>
<p>If you will run this step, you will receive unique specific <a href="#id1"><span class="problematic" id="id2">**</span></a>oid**s for your things.</p>
<p>Now we are ready to interact with our example things.</p>
</div></blockquote>
</div>
<div class="section" id="read-data-from-your-example-thing">
<h2>Read data from your example thing<a class="headerlink" href="#read-data-from-your-example-thing" title="Permalink to this headline">¶</a></h2>
<p>When your things were successfully registered, you need to enable them
in Neighbourhood Manager user interface. It is possible to interact only
with enabled things.</p>
<p>To simulate interaction between thing behind the adapter and another VICINITY thing,
we will use following Agent Service endpoint</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9997</span><span class="o">/</span><span class="n">agent</span><span class="o">/</span><span class="n">remote</span><span class="o">/</span><span class="n">objects</span><span class="o">/</span><span class="n">f9d16d9e</span><span class="o">-</span><span class="mi">02</span><span class="n">ec</span><span class="o">-</span><span class="mi">40</span><span class="n">bc</span><span class="o">-</span><span class="n">ad38</span><span class="o">-</span><span class="mi">4</span><span class="n">b814d62ea33</span><span class="o">/</span><span class="n">properties</span><span class="o">/</span><span class="n">example</span><span class="o">-</span><span class="nb">property</span>
<span class="n">headers</span><span class="p">:</span>
<span class="n">adapter</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="n">example</span><span class="o">-</span><span class="n">adapter</span>
<span class="n">infrastructure</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="n">example</span><span class="o">-</span><span class="n">thing</span><span class="o">-</span><span class="mi">2</span>
</pre></div>
</div>
<p>This call means, that thing inside <strong>example-adapter</strong> with its internal identifier <strong>example-thing-2</strong> wants
to read property of remote thing with VICINITY identifier <strong>f9d16d9e-02ec-40bc-ad38-4b814d62ea33</strong>.</p>
<p>Use Postman to perform this call. The response to this call will look as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;statusCode&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="s2">&quot;statusCodeReason&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;echo&quot;</span><span class="p">:</span> <span class="s2">&quot;get property&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pid&quot;</span><span class="p">:</span> <span class="s2">&quot;example-property&quot;</span><span class="p">,</span>
                <span class="s2">&quot;oid&quot;</span><span class="p">:</span> <span class="s2">&quot;example-thing-1&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now you are officially integrated into VICINITY and you can interact with known things.</p>
<p>To correctly stop the Agent Service, run following command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">agent</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span>
<span class="o">./</span><span class="n">agent</span><span class="o">.</span><span class="n">sh</span> <span class="n">stop</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="vocabulary.html" class="btn btn-neutral" title="VICINITY Vocabulary" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Viktor Oravec

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>